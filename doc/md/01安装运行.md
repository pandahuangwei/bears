
# 一、环境要求

#####1.Jdk
要求1.8，因为用到了lambda表达式

- IDEA
- 关于IDEA的安装与使用具体参考[https://github.com/judasn/IntelliJ-IDEA-Tutorial](https://github.com/judasn/IntelliJ-IDEA-Tutorial)
- 搜索插件仓库，安装插件lombok

#####2.Mysql
5.6或者以上
- 下载地址：https://dev.mysql.com/downloads/mysql/5.7.html#downloads
- 下载后按提示进行安装
- 导入document/sql下的mall.sql文件

#####3.Redis

3.0以上即可

下载地址
redis
https://github.com/MicrosoftArchive/redis/releases

Redis Desktop Manager
https://redisdesktop.com/download

注意：如果是非本地redis，即redis在别的机器上，那么请注意检查能否远程访问

- windows
- 下载地址：https://github.com/MicrosoftArchive/redis/releases
- 下载后按提示进行安装
- 启动redis:redis-server.exe redis.windows.conf

#####4.Rabbitmq
版本别太低就行,要记得先创建mq用户

- windows
- 安装Erlang：http://www.erlang.org/download/otp_win64_17.3.exe
- 下载rabbitmq:http://www.rabbitmq.com/releases/rabbitmq-server/v3.4.1/rabbitmq-server-3.4.1.exe
- 按照提示进行安装，安装完成后左下角搜索rabbitmq，点击如下命令进行安装  
- 输入命令启用管理工具：rabbitmq-plugins enable rabbitmq_management
- 访问地址查看是否安装成功：http://127.0.0.1:15672/
- 输入账号密码登录：guest guest
- 创建用户并设置其角色为管理员：
  
    

##### 5.Elasticsearch
日志中心使用，默认日志是存到mysql里，如采用默认配置，可不需要elasticsearch

- windows
- 下载地址：https://www.elastic.co/downloads/past-releases/elasticsearch-6-2-2
- 下载.zip文件，解压到指定目录
- 安装head插件，具体参考：https://github.com/mobz/elasticsearch-head
- 中文分词插件地址：https://github.com/medcl/elasticsearch-analysis-ik
- 安装中文分词插件，在elasticsearch-6.2.2\bin目录下执行以下命令：
elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.2.2/elasticsearch-analysis-ik-6.2.2.zip
- 启动elasticsearch:运行elasticsearch-6.2.2\bin\elasticsearch.bat
- 打开该地址测试是否安装成功：http://localhost:9200/_plugin/head/
- 不使用head插件的可以使用kibana，请下载6.2.2版本，具体参考：https://www.elastic.co/downloads/kibana


# 二、配置host

可以直接用ip地址

配置了host之后，我们程序里要用ip的就都用域名访问了，比如连接mysql，我们要用localhost或者127.0.0.1或者某个ip，配置了host之后，就可以用域名了，如： ![](data:image/*;base64,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)

#####1.Windows系统配置host
C:\Windows\System32\drivers\etc
hosts文件
添加如下host配置
```text
# 外网网关ip
127.0.0.1 api.gateway.com
# 内网网关ip
127.0.0.1 local.gateway.com
# 注册中心ip
127.0.0.1 local.register.com
# 监控中心ip
127.0.0.1 local.monitor.com
# 数据库ip
127.0.0.1 local.mysql.com
# redis ip
127.0.0.1 local.redis.com
# rabbitmq ip
127.0.0.1 local.rabbitmq.com
```

用ip也挺好，我们用host是因为环境多了的话，用host的字母能很容易的区分出来是什么配置

#####2.说明：
本例子host配置的都是127.0.0.1，具体ip个人根据实际情况修改。其中local开头的我们是模拟内网环境，部署在网络相同的内网即可。

# 三、工具要求

##### 1.Eclise和idea都行

是标准maven项目

##### 2.Lombok
必须安装lombok否则代码会编译不通过

# 四、导入
##### 1.Idea导入
这里选择Maven,如有大量报错，首先检查是否因为缺少get、set方法

#####  五、数据库初始化

这里为了例子和项目更能说明服务化，每个服务都有单独的数据库

##### 1.建库
字符集最好为utf8mb4
数据库,执行sql文件夹下的文件建库
```text
bear_admin
bear_file
bear_oauth
bear_log
bear_user
bear_notification
```

# 六、修改配置

|   | **工程名** |   |
| --- | --- | --- |
| 1 | bear-config-center | 配置中心 |
| 2 | bear-file-center | 文件中心 |
| 3 | bear-gateway-zuul | 网关 |
| 4 | bear-log-center | 日志中心 |
| 5 | bear-system-admin | 管理后台 |
| 6 | bear-monitor-center | 监控中心 |
| 7 | bear-auth-center | 认证中心 |
| 8 | bear-register-center | 注册中心 |
| 9 | bear-user-center | 用户中心 |
| 10 | bear-notification-center | 通知中心 |

#####  1.注册中心地址

配置所有工程里的bootstrap.yml
```yaml
#注册中心地址local.register.com 如果没有配置host文件，可以直接用ip即可
eureka:
  client:
    serviceUrl:
      defaultZone: http://local.register.com:8761/eureka/
```
如果配置了host的话，不需要改动，如果用ip的话，把local.register.com改为您的注册中心的ip

#####  2.数据库配置
配置配置中心(bear-config-center)数据库连接：
bear-auth-center.yml/bear-file-center.yml/bear-log-center.yml/
bear-notification-center.yml/bear-user-center.yml/bear-system_admin.yml/
```yaml
#local.mysql.com可以用ip替代，bear_file 数据库名
#用户名/密码配置
spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://local.mysql.com:3306/bear_file?useUnicode=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false
    username: root
    password: root
```
如果配置了host，只需修改端口号，用户名和密码，否则也要将域名改成ip

#####  3.Redis配置
目前bear-auth-center.yml/bear-notification-center.yml/bear-user-center.yml/
使用到redis
配置配置中心(bear-config-center)redis连接：
```yaml
spring:
  redis:
    host: local.redis.com
    port: 6379
    password:
```
将配置按实际情况修改即可，如有密码，跟host同层加password即可，别忘了冒号后有个空格，如果不是本地的redis，检查是否允许远程访问

##### 4.Rabbitmq配置
要记得先创建mq用户，
配置配置中心(bear-config-center)rabbitmq连接：
bear-auth-center.yml/bear-file-center.yml/bear-log-center.yml/
bear-notification-center.yml/bear-user-center.yml/bear-system_admin.yml/
```yaml
  rabbitmq:
    host: local.rabbitmq.com
    port: 5672
    username: beardev
    password: beardev
    virtual-host: /
```
将配置按实际情况修改即可

#####  5.用户认证url修改
配置配置中心(bear-config-center)用户认证连接：
bear-file-center.yml/bear-log-center.yml/
bear-notification-center.yml/bear-user-center.yml/bear-system_admin.yml/
```yaml
#配置 local.gateway.com 或替换IP
security:
  oauth2:
    resource:
      user-info-uri: http://local.gateway.com:8080/api-o/user-me
      prefer-token-info: false
```
url域名和端口是网关中心的ip和端口，这里demo是单个网关服务，正式生产或者多个网关服务的话，这里配置的是nginx的地址，注意该地址是各服务间在内网的调用，请配置内网的地址

##### 6.文件中心配置修改
配置配置中心(bear-config-center)文件中心连接：
bear-file-center.yml/

**本地存储文件**
```yaml
#下面是windows配置
file:
  local:
    path: d:/localFile
    prefix: /statics
    urlPrefix: http://api.gateway.com:8080/api-f${file.local.prefix}
```
path是存储文件的路径，上图是windows的目录，mac或者linux根据情况设置绝对目录
urlPrefix前缀也是网关对外的域名和端口

**阿里云存储**
```yaml
  aliyun:
    endpoint: xxx
    accessKeyId: xxx
    accessKeySecret: xxx
    bucketName: xxx
    domain: https://xxx
```
这里需要配置你的阿里云对象存储OSS相关信息

##### 7.后台管理界面配置接口地址
文件:bear-system-admin/src/resources/static/js/constant.js
这里定义了常量,domainName是后端接口地址
```js
//该地址如果配置错误的话，我们的前端将访问不到后端接口
var domainName = "http://api.gateway.com:8080";
```
**正式生产为了保证网关的高可用性，肯定是部署了多个网关服务，然后用nginx反向代理的，那么多个网关或者生产环境的话，我们这里配置的是nginx的地址
```js
var loginPage = "/api-b/login.html";
```
loginPage是登陆页地址，主要是为了未登录或过期时进行跳转，默认不需要修改,
如果是前端单独部署的话，这里请写全路径，如[http://xx.xx.xx/login.html](http://xx.xx.xx/login.html)

#####  8.邮件配置
如果不使用发邮件功能，不用修改配置，也不用修改代码，别发邮件就行。

如果需要发邮件需要配置
配置配置中心(bear-config-center)发邮件配置：
bear-system_admin.yml/
```yaml
  mail:
    default-encoding: UTF-8
    host: smtp.163.com
    username:
    password:
    protocol: smtp
    test-connection: false
    properties:
      mail.smtp.auth: true
```
需要您开通smtp协议，如163邮箱：
http://help.163.com/10/0312/13/61J0LI3200752CLQ.html

##### 9.阿里云短信配置
如要发短信，需要配置阿里云信息
配置配置中心(bear-config-center)短信：
bear-notification-center.yml/
```yaml
aliyun:
  accessKeyId: xxx
  accessKeySecret: xxx
  sign:
    name1: xxx
  template:
    code1: xxx
```
##### 10.日志中心elasticsearch
默认使用实现类LogServiceImpl，日志是存储到mysql里的，

如想存储到elasticsearch的话，

@Primary 指定默认日志记录

注释掉LogServiceImpl.java上的@Primary和@Service

或者将@Primary 加在 EsLogServiceImpl.java上面

并且配置上Elasticsearch环境信息
配置配置中心(bear-config-center)es：
bear-log-center.yml/
```yaml
elasticsearch:
  clusterName: elasticsearch
  clusterNodes: 127.0.0.1:9300
```
#####  11.微信授权相关
如果需要使用微信授权需要配置(bear-config-center)
bear-user-center.yml/
```yaml
wechat:
  domain: http://api.gateway.com:8080/api-u
  infos:
    app1:
      appid: xxx
      secret: xxx
    app2:
      appid: xxx
      secret: xxx
```
这里配置了服务端域名和用户中心转发规则（域名要跟微信网页授权域名一致），appid和secret根据实际情况配置即可，
可配置多个，系统可以支持多个，其中app1、app2可随意定，不要重复即可，在
bear-system-admin\src\main\resources\static\pages\wechat\index.html
里 
这个的跳去授权里，用到我们定义的app1
```js
//用到app1
var openid = getUrlParam("openid");
        var toUrl = domainName + "/api-b/pages/wechat/index.html";
        if (openid == null || openid == "") {// 跳去微信授权
            window.location.href = domainName + "/api-u/wechat/app1?toUrl=" + encodeURIComponent(toUrl);
```
# 七、启动
在redis、mysql、rabbitmq都启动的前提下，
都是spring boot项目，对着项目的根目录的类，启动main方法

##### 1.第一步启动注册中心
bear-register-center/com.bear.register.RegisterCenterApp.java

#####  2.第二步启动配置中心
bear-config-center/com.bear.config.ConfigCenterApp.java

#####  3.第三步
等待配置中心启动成功后，再启动别的服务，否则微服务将拉取不到配置中心的配置，启动将报错。
用户中心、通知中心、授权中心、文件服务、日志中心、后台管理、监控，
最后启动zuul网关

##### 4.535错误
在idea中启动bear-system-admin服务时，邮箱配置错误的话，会报535的错误，不影响系统启动，只是邮件发不出去而已。
都启动成功之后，可以访问后台管理界面
[http://localhost:8080/api-b/login.html](http://localhost:8080/api-b/login.html)
用户名admin 密码admin
用户名superadmin 密码superadmin